<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ—Å—Ç–æ–π —Ä–∞–±–æ—á–∏–π –±–æ—Ç –ì–æ—Å–ó–∞–∫—É–ø–∫–∏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f2f2f7;
            color: #333;
        }
        
        .app-container {
            max-width: 400px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
        }
        
        .header {
            background: #007AFF;
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .nav-tabs {
            display: flex;
            background: white;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .nav-tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }
        
        .nav-tab.active {
            border-bottom-color: #007AFF;
            color: #007AFF;
        }
        
        .tab-content {
            display: none;
            padding: 20px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .search-box {
            margin-bottom: 20px;
        }
        
        .search-input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            margin-bottom: 10px;
        }
        
        .search-button {
            width: 100%;
            padding: 12px;
            background: #007AFF;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
        }
        
        .search-button:hover {
            background: #0056b3;
        }
        
        .purchase-item {
            background: #f8f9fa;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            border-left: 4px solid #007AFF;
        }
        
        .purchase-title {
            font-weight: bold;
            margin-bottom: 8px;
            color: #007AFF;
        }
        
        .purchase-info {
            color: #666;
            font-size: 14px;
            margin-bottom: 8px;
        }
        
        .purchase-actions {
            display: flex;
            gap: 10px;
        }
        
        .action-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .btn-favorite {
            background: #ffc107;
            color: #333;
        }
        
        .btn-apply {
            background: #28a745;
            color: white;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .stat-item {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            border-radius: 8px;
        }
        
        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: #007AFF;
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: #666;
            font-size: 14px;
        }
        
        .no-results {
            text-align: center;
            padding: 40px 20px;
            color: #666;
        }
        
        .no-results-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="header">
            <h1>üèõÔ∏è –ì–æ—Å–ó–∞–∫—É–ø–∫–∏</h1>
            <p>–ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—ã–µ –∑–∞–∫—É–ø–∫–∏ –±—ã—Å—Ç—Ä–æ –∏ –ª–µ–≥–∫–æ</p>
        </div>
        
        <div class="nav-tabs">
            <div class="nav-tab active" data-tab="home">üè† –ì–ª–∞–≤–Ω–∞—è</div>
            <div class="nav-tab" data-tab="search">üîç –ü–æ–∏—Å–∫</div>
            <div class="nav-tab" data-tab="favorites">‚≠ê –ò–∑–±—Ä–∞–Ω–Ω–æ–µ</div>
            <div class="nav-tab" data-tab="profile">üë§ –ü—Ä–æ—Ñ–∏–ª—å</div>
        </div>
        
        <!-- –ì–ª–∞–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞ -->
        <div id="homeContent" class="tab-content active">
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-number" id="totalPurchases">0</div>
                    <div class="stat-label">–í—Å–µ–≥–æ –∑–∞–∫—É–ø–æ–∫</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="activePurchases">0</div>
                    <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö</div>
                </div>
            </div>
            
            <h3>üìã –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–∫—É–ø–∫–∏</h3>
            <div id="recentPurchasesList"></div>
        </div>
        
        <!-- –í–∫–ª–∞–¥–∫–∞ –ø–æ–∏—Å–∫–∞ -->
        <div id="searchContent" class="tab-content">
            <div class="search-box">
                <input type="text" id="searchInput" class="search-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–∫—É–ø–∫–∏...">
                <button class="search-button" onclick="performSearch()">üîç –ù–∞–π—Ç–∏</button>
            </div>
            
            <div id="searchResults"></div>
        </div>
        
        <!-- –í–∫–ª–∞–¥–∫–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ -->
        <div id="favoritesContent" class="tab-content">
            <h3>‚≠ê –ò–∑–±—Ä–∞–Ω–Ω—ã–µ –∑–∞–∫—É–ø–∫–∏</h3>
            <div id="favoritesList"></div>
        </div>
        
        <!-- –í–∫–ª–∞–¥–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
        <div id="profileContent" class="tab-content">
            <h3>üë§ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-number" id="favoritesCount">0</div>
                    <div class="stat-label">–í –∏–∑–±—Ä–∞–Ω–Ω–æ–º</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="applicationsCount">0</div>
                    <div class="stat-label">–ó–∞—è–≤–æ–∫ –ø–æ–¥–∞–Ω–æ</div>
                </div>
            </div>
            
            <button class="action-btn btn-favorite" onclick="clearAllData()" style="width: 100%; margin-top: 20px;">
                üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
            </button>
        </div>
    </div>

    <script>
        // –ü—Ä–æ—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        const mockPurchases = [
            {
                id: 1,
                title: "–ü–æ—Å—Ç–∞–≤–∫–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–∏",
                category: "–¢–æ–≤–∞—Ä—ã",
                region: "–ú–æ—Å–∫–≤–∞",
                price: 2500000,
                status: "active",
                description: "–ö–æ–º–ø—å—é—Ç–µ—Ä—ã –∏ –Ω–æ—É—Ç–±—É–∫–∏ –¥–ª—è –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö —É—á—Ä–µ–∂–¥–µ–Ω–∏–π"
            },
            {
                id: 2,
                title: "–£—Å–ª—É–≥–∏ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –ü–û",
                category: "–£—Å–ª—É–≥–∏",
                region: "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
                price: 5000000,
                status: "active",
                description: "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç–æ–º"
            },
            {
                id: 3,
                title: "–°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã",
                category: "–†–∞–±–æ—Ç—ã",
                region: "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫",
                price: 15000000,
                status: "completed",
                description: "–ö–∞–ø–∏—Ç–∞–ª—å–Ω—ã–π —Ä–µ–º–æ–Ω—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –∑–¥–∞–Ω–∏—è"
            },
            {
                id: 4,
                title: "–ü–æ—Å—Ç–∞–≤–∫–∞ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è",
                category: "–¢–æ–≤–∞—Ä—ã",
                region: "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä",
                price: 8000000,
                status: "active",
                description: "–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –¥–ª—è –±–æ–ª—å–Ω–∏—Ü—ã"
            },
            {
                id: 5,
                title: "–£—Å–ª—É–≥–∏ –ø–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—é –∞—É–¥–∏—Ç–∞",
                category: "–£—Å–ª—É–≥–∏",
                region: "–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥",
                price: 3000000,
                status: "active",
                description: "–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞—É–¥–∏—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ-—Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"
            },
            {
                id: 6,
                title: "–ü–æ—Å—Ç–∞–≤–∫–∞ –ª–∞–∫–æ–∫—Ä–∞—Å–æ—á–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤",
                category: "–¢–æ–≤–∞—Ä—ã",
                region: "–ú–æ—Å–∫–≤–∞",
                price: 1200000,
                status: "active",
                description: "–ö—Ä–∞—Å–∫–∏, –ª–∞–∫–∏, –≥—Ä—É–Ω—Ç–æ–≤–∫–∏ –¥–ª—è —Ä–µ–º–æ–Ω—Ç–Ω—ã—Ö —Ä–∞–±–æ—Ç"
            },
            {
                id: 7,
                title: "–£—Å–ª—É–≥–∏ –ø–æ –ø–æ–∫—Ä–∞—Å–∫–µ –ø–æ–º–µ—â–µ–Ω–∏–π",
                category: "–£—Å–ª—É–≥–∏",
                region: "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
                price: 2500000,
                status: "active",
                description: "–ú–∞–ª—è—Ä–Ω—ã–µ —Ä–∞–±–æ—Ç—ã, –ø–æ–∫—Ä–∞—Å–∫–∞ —Å—Ç–µ–Ω –∏ –ø–æ—Ç–æ–ª–∫–æ–≤"
            }
        ];

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        let currentTab = 'home';
        let favorites = [];
        let userApplications = [];
        let searchHistory = [];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            console.log('–ë–æ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
            loadData();
            updateStats();
            showRecentPurchases();
            setupEventListeners();
        });

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        function setupEventListeners() {
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –≤–∫–ª–∞–¥–æ–∫
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabName = this.dataset.tab;
                    switchTab(tabName);
                });
            });
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
        function switchTab(tabName) {
            console.log('–ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ –≤–∫–ª–∞–¥–∫—É:', tabName);
            
            // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∫–ª–∞–¥–∫—É
            const activeTab = document.querySelector(`[data-tab="${tabName}"]`);
            const activeContent = document.getElementById(tabName + 'Content');
            
            if (activeTab && activeContent) {
                activeTab.classList.add('active');
                activeContent.classList.add('active');
                currentTab = tabName;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∫–ª–∞–¥–∫–∏
                switch(tabName) {
                    case 'home':
                        updateStats();
                        showRecentPurchases();
                        break;
                    case 'favorites':
                        showFavorites();
                        break;
                    case 'profile':
                        updateProfileStats();
                        break;
                }
                
                console.log('–í–∫–ª–∞–¥–∫–∞ —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∞:', tabName);
            } else {
                console.error('–û—à–∏–±–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª–∞–¥–∫–∏:', tabName);
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
        function loadData() {
            try {
                const savedFavorites = localStorage.getItem('zakupkiFavorites');
                const savedApplications = localStorage.getItem('zakupkiApplications');
                const savedHistory = localStorage.getItem('zakupkiSearchHistory');
                
                if (savedFavorites) favorites = JSON.parse(savedFavorites);
                if (savedApplications) userApplications = JSON.parse(savedApplications);
                if (savedHistory) searchHistory = JSON.parse(savedHistory);
                
                console.log('–î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:', { favorites, userApplications, searchHistory });
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function updateStats() {
            const totalPurchases = document.getElementById('totalPurchases');
            const activePurchases = document.getElementById('activePurchases');
            
            if (totalPurchases) totalPurchases.textContent = mockPurchases.length;
            if (activePurchases) {
                const active = mockPurchases.filter(p => p.status === 'active').length;
                activePurchases.textContent = active;
            }
        }

        // –ü–æ–∫–∞–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–∫—É–ø–æ–∫
        function showRecentPurchases() {
            const container = document.getElementById('recentPurchasesList');
            if (!container) return;
            
            const recent = mockPurchases.slice(0, 3);
            let html = '';
            
            recent.forEach(purchase => {
                html += `
                    <div class="purchase-item">
                        <div class="purchase-title">${purchase.title}</div>
                        <div class="purchase-info">
                            ${purchase.category} ‚Ä¢ ${purchase.region}<br>
                            –¶–µ–Ω–∞: ${purchase.price.toLocaleString()} ‚ÇΩ<br>
                            –°—Ç–∞—Ç—É—Å: ${purchase.status === 'active' ? '–ê–∫—Ç–∏–≤–Ω–∞' : '–ó–∞–≤–µ—Ä—à–µ–Ω–∞'}
                        </div>
                        <div class="purchase-actions">
                            <button class="action-btn btn-favorite" onclick="addToFavorites(${purchase.id})">
                                ‚≠ê –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
                            </button>
                            <button class="action-btn btn-apply" onclick="submitApplication(${purchase.id})">
                                üìù –ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É
                            </button>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞
        function performSearch() {
            const query = document.getElementById('searchInput').value.trim();
            if (!query) {
                alert('–í–≤–µ–¥–∏—Ç–µ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å');
                return;
            }
            
            console.log('–í—ã–ø–æ–ª–Ω—è–µ–º –ø–æ–∏—Å–∫:', query);
            
            // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
            if (!searchHistory.includes(query)) {
                searchHistory.unshift(query);
                searchHistory = searchHistory.slice(0, 10);
                localStorage.setItem('zakupkiSearchHistory', JSON.stringify(searchHistory));
            }
            
            // –í—ã–ø–æ–ª–Ω—è–µ–º –ø–æ–∏—Å–∫
            const results = searchPurchases(query);
            displaySearchResults(results, query);
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞
        function searchPurchases(query, filters = {}) {
            const queryLower = query.toLowerCase();
            const results = [];
            
            mockPurchases.forEach(purchase => {
                let matches = false;
                
                // –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É
                if (purchase.title.toLowerCase().includes(queryLower) ||
                    purchase.description.toLowerCase().includes(queryLower) ||
                    purchase.category.toLowerCase().includes(queryLower) ||
                    purchase.region.toLowerCase().includes(queryLower)) {
                    matches = true;
                }
                
                // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ñ–∏–ª—å—Ç—Ä—ã
                if (filters.category && purchase.category !== filters.category) {
                    matches = false;
                }
                if (filters.region && purchase.region !== filters.region) {
                    matches = false;
                }
                if (filters.status && purchase.status !== filters.status) {
                    matches = false;
                }
                
                if (matches) {
                    results.push(purchase);
                }
            });
            
            return results;
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
        function displaySearchResults(results, query) {
            const container = document.getElementById('searchResults');
            if (!container) return;
            
            if (results.length === 0) {
                container.innerHTML = `
                    <div class="no-results">
                        <div class="no-results-icon">üîç</div>
                        <h3>–ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</h3>
                        <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å</p>
                    </div>
                `;
                return;
            }
            
            let html = `<h3>–ù–∞–π–¥–µ–Ω–æ ${results.length} —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É "${query}"</h3>`;
            
            results.forEach(purchase => {
                html += `
                    <div class="purchase-item">
                        <div class="purchase-title">${purchase.title}</div>
                        <div class="purchase-info">
                            ${purchase.category} ‚Ä¢ ${purchase.region}<br>
                            –¶–µ–Ω–∞: ${purchase.price.toLocaleString()} ‚ÇΩ<br>
                            –°—Ç–∞—Ç—É—Å: ${purchase.status === 'active' ? '–ê–∫—Ç–∏–≤–Ω–∞' : '–ó–∞–≤–µ—Ä—à–µ–Ω–∞'}
                        </div>
                        <div class="purchase-actions">
                            <button class="action-btn btn-favorite" onclick="addToFavorites(${purchase.id})">
                                ‚≠ê –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
                            </button>
                            <button class="action-btn btn-apply" onclick="submitApplication(${purchase.id})">
                                üìù –ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É
                            </button>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        // –ü–æ–∫–∞–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
        function showFavorites() {
            const container = document.getElementById('favoritesList');
            if (!container) return;
            
            if (favorites.length === 0) {
                container.innerHTML = '<p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –∑–∞–∫—É–ø–æ–∫</p>';
                return;
            }
            
            let html = '';
            favorites.forEach(favoriteId => {
                const purchase = mockPurchases.find(p => p.id === favoriteId);
                if (purchase) {
                    html += `
                        <div class="purchase-item">
                            <div class="purchase-title">${purchase.title}</div>
                            <div class="purchase-info">
                                ${purchase.category} ‚Ä¢ ${purchase.region}<br>
                                –¶–µ–Ω–∞: ${purchase.price.toLocaleString()} ‚ÇΩ<br>
                                –°—Ç–∞—Ç—É—Å: ${purchase.status === 'active' ? '–ê–∫—Ç–∏–≤–Ω–∞' : '–ó–∞–≤–µ—Ä—à–µ–Ω–∞'}
                            </div>
                            <div class="purchase-actions">
                                <button class="action-btn btn-favorite" onclick="removeFromFavorites(${purchase.id})">
                                    üóëÔ∏è –£–±—Ä–∞—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
                                </button>
                            </div>
                        </div>
                    `;
                }
            });
            
            container.innerHTML = html;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è
        function updateProfileStats() {
            const favoritesCount = document.getElementById('favoritesCount');
            const applicationsCount = document.getElementById('applicationsCount');
            
            if (favoritesCount) favoritesCount.textContent = favorites.length;
            if (applicationsCount) applicationsCount.textContent = userApplications.length;
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
        function addToFavorites(purchaseId) {
            if (!favorites.includes(purchaseId)) {
                favorites.push(purchaseId);
                localStorage.setItem('zakupkiFavorites', JSON.stringify(favorites));
                alert('–ó–∞–∫—É–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ!');
                updateProfileStats();
            } else {
                alert('–ó–∞–∫—É–ø–∫–∞ —É–∂–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º!');
            }
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
        function removeFromFavorites(purchaseId) {
            const index = favorites.indexOf(purchaseId);
            if (index > -1) {
                favorites.splice(index, 1);
                localStorage.setItem('zakupkiFavorites', JSON.stringify(favorites));
                showFavorites();
                updateProfileStats();
                alert('–ó–∞–∫—É–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∞ –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ!');
            }
        }

        // –ü–æ–¥–∞—á–∞ –∑–∞—è–≤–∫–∏
        function submitApplication(purchaseId) {
            if (!userApplications.includes(purchaseId)) {
                userApplications.push(purchaseId);
                localStorage.setItem('zakupkiApplications', JSON.stringify(userApplications));
                alert('–ó–∞—è–≤–∫–∞ –ø–æ–¥–∞–Ω–∞!');
                updateProfileStats();
            } else {
                alert('–ó–∞—è–≤–∫–∞ —É–∂–µ –ø–æ–¥–∞–Ω–∞!');
            }
        }

        // –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
        function clearAllData() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ?')) {
                favorites = [];
                userApplications = [];
                searchHistory = [];
                
                localStorage.removeItem('zakupkiFavorites');
                localStorage.removeItem('zakupkiApplications');
                localStorage.removeItem('zakupkiSearchHistory');
                
                alert('–í—Å–µ –¥–∞–Ω–Ω—ã–µ –æ—á–∏—â–µ–Ω—ã!');
                location.reload();
            }
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ Enter –≤ –ø–æ–∏—Å–∫–µ
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && e.target.id === 'searchInput') {
                performSearch();
            }
        });
    </script>
</body>
</html>
