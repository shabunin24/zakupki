<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–æ—Å–ó–∞–∫—É–ø–∫–∏ - Telegram Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #f8fafc;
            color: #1e293b;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            color: white;
            padding: 30px 0;
            margin: -20px -20px 30px -20px;
            border-radius: 0 0 20px 20px;
        }
        
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
            font-weight: 300;
        }
        
        /* Telegram Status */
        .telegram-status {
            background: white;
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            text-align: center;
        }
        
        .status-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }
        
        .status-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 10px;
        }
        
        .status-description {
            color: #64748b;
            margin-bottom: 20px;
        }
        
        /* Search Section */
        .search-section {
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        
        .search-form {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
        
        .search-input {
            flex: 1;
            min-width: 300px;
            padding: 16px 20px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: #f8fafc;
        }
        
        .search-input:focus {
            outline: none;
            border-color: #3b82f6;
            background: white;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .search-button {
            background: linear-gradient(135deg, #059669 0%, #10b981 100%);
            color: white;
            border: none;
            padding: 16px 32px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }
        
        .search-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(5, 150, 105, 0.3);
        }
        
        /* Quick Actions */
        .quick-actions {
            background: white;
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        
        .actions-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .action-card {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            text-decoration: none;
            color: inherit;
        }
        
        .action-card:hover {
            border-color: #3b82f6;
            background: #eff6ff;
            transform: translateY(-2px);
        }
        
        .action-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .action-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 8px;
        }
        
        .action-description {
            font-size: 0.9rem;
            color: #64748b;
        }
        
        /* Features */
        .features {
            background: white;
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        .features-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .feature-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: #f8fafc;
            border-radius: 8px;
        }
        
        .feature-icon {
            font-size: 1.5rem;
            color: #3b82f6;
        }
        
        .feature-text {
            font-size: 0.9rem;
            color: #475569;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header {
                margin: -15px -15px 20px -15px;
                border-radius: 0 0 15px 15px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .search-form {
                flex-direction: column;
            }
            
            .search-input {
                min-width: auto;
            }
            
            .actions-grid {
                grid-template-columns: 1fr;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* Telegram WebApp Styles */
        .telegram-webapp {
            background: var(--tg-theme-bg-color, #f8fafc);
            color: var(--tg-theme-text-color, #1e293b);
        }
        
        .telegram-webapp .header {
            background: var(--tg-theme-button-color, linear-gradient(135deg, #1e40af 0%, #3b82f6 100%));
        }
        
        .telegram-webapp .search-button {
            background: var(--tg-theme-button-color, linear-gradient(135deg, #059669 0%, #10b981 100%));
        }
        
        .telegram-webapp .action-card:hover {
            border-color: var(--tg-theme-button-color, #3b82f6);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-content">
                <h1>üèõÔ∏è –ì–æ—Å–ó–∞–∫—É–ø–∫–∏</h1>
                <p>–ü–æ–∏—Å–∫ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–∫—É–ø–æ–∫ –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏</p>
            </div>
        </div>

        <!-- Telegram Status -->
        <div class="telegram-status" id="telegramStatus">
            <div class="status-icon">üì±</div>
            <h2 class="status-title">Telegram Mini App</h2>
            <p class="status-description">–ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Telegram...</p>
        </div>

        <!-- Search Section -->
        <div class="search-section">
            <form class="search-form" id="searchForm">
                <input 
                    type="text" 
                    class="search-input" 
                    id="searchInput"
                    placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–∫—É–ø–∫–∏, —Ç–æ–≤–∞—Ä–∞ –∏–ª–∏ —É—Å–ª—É–≥–∏..."
                    autocomplete="off"
                >
                <button type="submit" class="search-button">
                    üîç –ù–∞–π—Ç–∏ –∑–∞–∫—É–ø–∫–∏
                </button>
            </form>
            
            <div class="search-examples">
                <p style="color: #64748b; font-size: 14px; margin: 0; text-align: center;">
                    üí° –ü—Ä–∏–º–µ—Ä—ã: "–±—É–º–∞–≥–∞ –ê4 –æ—Ñ–∏—Å–Ω–∞—è", "—Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –¥–æ—Ä–æ–≥", "–º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ"
                </p>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions">
            <h3 class="actions-title">üöÄ –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
            <div class="actions-grid">
                <a href="index.html" class="action-card">
                    <div class="action-icon">üîç</div>
                    <div class="action-title">–ü–æ–ª–Ω—ã–π –ø–æ–∏—Å–∫</div>
                    <div class="action-description">–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</div>
                </a>
                
                <a href="favorites.html" class="action-card">
                    <div class="action-icon">‚≠ê</div>
                    <div class="action-title">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</div>
                    <div class="action-description">–°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∑–∞–∫—É–ø–∫–∏</div>
                </a>
                
                <a href="purchase-detail.html" class="action-card">
                    <div class="action-icon">üìã</div>
                    <div class="action-title">–î–µ—Ç–∞–ª–∏ –∑–∞–∫—É–ø–∫–∏</div>
                    <div class="action-description">–ü—Ä–∏–º–µ—Ä –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</div>
                </a>
                
                <a href="#" class="action-card" onclick="showNotification('üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏!')">
                    <div class="action-icon">üîî</div>
                    <div class="action-title">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</div>
                    <div class="action-description">–û –Ω–æ–≤—ã—Ö –∑–∞–∫—É–ø–∫–∞—Ö</div>
                </a>
            </div>
        </div>

        <!-- Features -->
        <div class="features">
            <h3 class="features-title">‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h3>
            <div class="features-grid">
                <div class="feature-item">
                    <div class="feature-icon">üîç</div>
                    <div class="feature-text">–ü–æ–∏—Å–∫ –ø–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º—É —è–∑—ã–∫—É</div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">üìç</div>
                    <div class="feature-text">–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º</div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">üí∞</div>
                    <div class="feature-text">–§–∏–ª—å—Ç—Ä—ã –ø–æ —Ü–µ–Ω–µ</div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">üìÖ</div>
                    <div class="feature-text">–§–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∞—Ç–∞–º</div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">‚≠ê</div>
                    <div class="feature-text">–°–∏—Å—Ç–µ–º–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ</div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">üì±</div>
                    <div class="feature-text">–ú–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        function initializeApp() {
            // Check if running in Telegram WebApp
            if (window.Telegram && window.Telegram.WebApp) {
                document.body.classList.add('telegram-webapp');
                const tg = window.Telegram.WebApp;
                tg.ready();
                tg.expand();
                
                // Update status
                updateTelegramStatus(tg);
                
                console.log('Telegram WebApp –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω:', tg);
            } else {
                // Not in Telegram
                updateTelegramStatus(null);
            }

            // Setup event listeners
            setupEventListeners();
        }

        function updateTelegramStatus(tg) {
            const statusElement = document.getElementById('telegramStatus');
            
            if (tg) {
                statusElement.innerHTML = `
                    <div class="status-icon">‚úÖ</div>
                    <h2 class="status-title">–ó–∞–ø—É—â–µ–Ω–æ –≤ Telegram!</h2>
                    <p class="status-description">–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Telegram WebApp</p>
                `;
                
                // Show user info if available
                if (tg.initDataUnsafe?.user) {
                    const user = tg.initDataUnsafe.user;
                    statusElement.innerHTML += `
                        <div style="margin-top: 15px; padding: 15px; background: #f0f9ff; border-radius: 8px; border: 1px solid #0ea5e9;">
                            <p style="margin: 0; color: #0c4a6e; font-size: 14px;">
                                <strong>üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</strong> ${user.firstName || ''} ${user.lastName || ''}
                                ${user.username ? `(@${user.username})` : ''}
                            </p>
                        </div>
                    `;
                }
            } else {
                statusElement.innerHTML = `
                    <div class="status-icon">üñ•Ô∏è</div>
                    <h2 class="status-title">–í–µ—Ä—Å–∏—è –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞</h2>
                    <p class="status-description">–≠—Ç–æ –≤–µ—Ä—Å–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</p>
                    <div style="margin-top: 15px; padding: 15px; background: #fef3c7; border-radius: 8px; border: 1px solid #f59e0b;">
                        <p style="margin: 0; color: #92400e; font-size: 14px;">
                            <strong>üì± –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Telegram:</strong><br>
                            –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ—Ç–∞ @oborotn_bot –∏ –Ω–∞–∂–º–∏—Ç–µ "üöÄ –û—Ç–∫—Ä—ã—Ç—å –ì–æ—Å–ó–∞–∫—É–ø–∫–∏"
                        </p>
                    </div>
                `;
            }
        }

        function setupEventListeners() {
            // Search form
            document.getElementById('searchForm').addEventListener('submit', function(e) {
                e.preventDefault();
                performSearch();
            });
        }

        function performSearch() {
            const searchQuery = document.getElementById('searchInput').value.trim();
            if (!searchQuery) return;

            // Show notification
            showNotification(`üîç –ü–æ–∏—Å–∫: "${searchQuery}" - –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º...`);
            
            // Redirect to main search page
            setTimeout(() => {
                window.location.href = `index.html?search=${encodeURIComponent(searchQuery)}`;
            }, 1000);
        }

        function showNotification(message) {
            if (window.Telegram && window.Telegram.WebApp) {
                // Use Telegram notification
                const tg = window.Telegram.WebApp;
                tg.showAlert(message);
            } else {
                // Use browser alert
                alert(message);
            }
        }
    </script>
</body>
</html>
